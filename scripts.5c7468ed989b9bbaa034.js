function addData(e){fetch("https://monitoramento-backend.herokuapp.com/anotacao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:e.titulo,message:e.message,color:e.color})}).then(()=>Promise.resolve()).catch(()=>Promise.reject())}function getDataAndSend(){let e;const o=indexedDB.open("db-motin");o.onerror=e=>{console.log("Please allow my web app to use IndexedDB \ud83d\ude03>>>\ud83d\udc7b")},o.onsuccess=o=>{e=o.target.result,getData(e)}}function getData(e){console.log("getData-10"),console.log("Event");const o=e.transaction(["notas"]).objectStore("notas"),t=o.getAllKeys();t.onerror=e=>{console.error(e)},t.onsuccess=s=>{console.log(t.result);for(let n=0;n<t.result.length;n++){seq=t.result[n],console.log(seq);const s=o.get(seq);s.onerror=e=>{console.error(e)},s.onsuccess=o=>{console.log(s.result),addData(s.result),console.log("delete seq: "+seq);const t=e.transaction(["notas"],"readwrite").objectStore("notas").delete(seq);t.onerror=e=>{console.error(e)},t.onsuccess=e=>{console.log("delete sucess: "+seq)}}}}}self.addEventListener("sync",e=>{"post-data"===e.tag&&e.waitUntil(getDataAndSend())});